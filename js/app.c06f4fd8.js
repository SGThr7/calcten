(function(t){function e(e){for(var r,o,u=e[0],c=e[1],s=e[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var c=n[u];0!==a[c]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"07a3":function(t,e,n){"use strict";var r=n("e4c3"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},"0924":function(t,e,n){"use strict";n("b1fa")},"17a4":function(t,e,n){t.exports={play:"play-module_play_20RyJ"}},"42cf":function(t,e,n){t.exports={menu_button:"Menu_menu_button_3Jznj"}},"4ef8":function(t,e,n){"use strict";var r=n("ebaf"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8637:function(t,e,n){"use strict";var r=n("91f3"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},8678:function(t,e,n){t.exports={controller:"Controller_controller_fPCEn",remove_key:"Controller_remove_key_2m_9H"}},"8d2c":function(t,e,n){t.exports={result:"result-module_result_3wsR4",title:"result-module_title_MVWRl",formula:"result-module_formula_TcACY",formulas:"result-module_formulas_23E2i",menu:"result-module_menu_3OcIn",button:"result-module_button_1SyDg"}},"91f3":function(t,e,n){t.exports={title:"Title_title_2_HBX",title_text:"Title_title_text_1XRBG",menu:"Title_menu_UK20I",underline:"Title_underline_1OEGQ"}},"99c5":function(t,e,n){t.exports={game:"App_game_K7nvA"}},"9f19":function(t,e,n){"use strict";var r=n("cbfe"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},b1fa:function(t,e,n){},cbfe:function(t,e,n){t.exports={display:"Display_display_3FosB",formula:"Display_formula_1pCw8",num:"Display_num_37-OG",op:"Display_op_2FPps",result:"Display_result_1At5n"}},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function a(t,e,n,a,i,o){var u=Object(r["q"])("debug-tools");return Object(r["l"])(),Object(r["d"])(r["a"],null,[Object(r["f"])("div",{class:t.$style.game},[(Object(r["l"])(),Object(r["d"])(Object(r["r"])(t.scene)))],2),Object(r["f"])(u)],64)}var i=n("5530"),o=(n("a4d3"),n("e01a"),n("d3b7"),n("5502")),u=Object(r["e"])("lay ");function c(t,e,n,a,i,o){var c=Object(r["q"])("menu-button");return Object(r["l"])(),Object(r["d"])("div",{class:t.$style.title},[Object(r["f"])("div",{class:t.$style.title_text},"calc10",2),Object(r["f"])("div",{class:t.$style.menu},[Object(r["f"])(c,{onClick:t.play,bindKey:t.playKey},{default:Object(r["v"])((function(){return[Object(r["f"])("span",{class:t.$style.underline},"P",2),u]})),_:1},8,["onClick","bindKey"])],2)],2)}var s,l,f,d,b,p,v,h,m,y,O,j,g,_,w,k,S,K,x,N,I=n("53ca"),R=n("9bd1"),P=n("5364"),$=n("d4ec"),B=n("bee2"),M=n("ade3"),C=(n("99af"),n("b0c0"),n("ac1f"),n("5319"),n("2ca0"),n("8a79"),n("fb6a"),n("25f0"),n("3ca3"),n("10d1"),n("ddb0"),n("f47f")),A=n("257e"),F=n("262e"),T=n("2caf"),q=(n("96cf"),n("d28b"),n("b64b"),function(){function t(e){Object($["a"])(this,t),Object(M["a"])(this,"text",void 0),this.text=e}return Object(B["a"])(t,[{key:"toString",value:function(){return this.text}}]),t}()),D=function(t){Object(F["a"])(n,t);var e=Object(T["a"])(n);function n(t,r,a,i,o){var u;return Object($["a"])(this,n),u=e.call(this,t),Object(M["a"])(Object(A["a"])(u),"priority",void 0),Object(M["a"])(Object(A["a"])(u),"fn",void 0),Object(M["a"])(Object(A["a"])(u),"isAssociative",void 0),Object(M["a"])(Object(A["a"])(u),"symbol",void 0),u.priority=r,u.fn=a,u.isAssociative=i,u.symbol=null!==o&&void 0!==o?o:t,u}return Object(B["a"])(n,[{key:"toSymbol",value:function(){return this.symbol}}]),n}(q),J={none:["none","_","＿"],plus:["plus","+","＋"],minus:["minus","-","−"],times:["times","*","＊","×"],div:["div","/","／","÷"]},E=(g={none:new D("_",100,(function(t){return t}),!0,"＿"),plus:new D("+",1,(function(t,e){return t+e}),!0,"＋"),minus:new D("-",1,(function(t,e){return t-e}),!1,"−"),times:new D("×",2,(function(t,e){return t*e}),!0),div:new D("÷",2,(function(t,e){return t/e}),!1)},s="_",_={},_[s]=_[s]||{},_[s].get=function(){return this.none},l="＿",_[l]=_[l]||{},_[l].get=function(){return this.none},f="+",_[f]=_[f]||{},_[f].get=function(){return this.plus},d="＋",_[d]=_[d]||{},_[d].get=function(){return this.plus},b="-",_[b]=_[b]||{},_[b].get=function(){return this.minus},p="−",_[p]=_[p]||{},_[p].get=function(){return this.minus},v="*",_[v]=_[v]||{},_[v].get=function(){return this.times},h="＊",_[h]=_[h]||{},_[h].get=function(){return this.times},m="×",_[m]=_[m]||{},_[m].get=function(){return this.times},y="/",_[y]=_[y]||{},_[y].get=function(){return this.div},O="／",_[O]=_[O]||{},_[O].get=function(){return this.div},j="÷",_[j]=_[j]||{},_[j].get=function(){return this.div},Object(M["a"])(g,Symbol.iterator,regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0,n=Object.keys(J);case 1:if(!(e<n.length)){t.next=10;break}if(r=n[e],"none"!==r){t.next=5;break}return t.abrupt("continue",7);case 5:return t.next=7,this[r];case 7:e++,t.next=1;break;case 10:case"end":return t.stop()}}),t,this)}))),Object(M["a"])(g,"get",(function(t){return this[t]})),Object(M["a"])(g,"cmp",(function(t,e){return this.get(e)===this[t]})),Object(C["a"])(g,_),g),L=function(t){Object(F["a"])(n,t);var e=Object(T["a"])(n);function n(){return Object($["a"])(this,n),e.apply(this,arguments)}return n}(q),H={lparen:["lparen","(","（"],rparen:["rparen",")","）"]},W=(x={lparen:new L("("),rparen:new L(")")},w="(",N={},N[w]=N[w]||{},N[w].get=function(){return this.lparen},k="（",N[k]=N[k]||{},N[k].get=function(){return this.lparen},S=")",N[S]=N[S]||{},N[S].get=function(){return this.rparen},K="）",N[K]=N[K]||{},N[K].get=function(){return this.rparen},Object(M["a"])(x,Symbol.iterator,regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0,n=Object.keys(H);case 1:if(!(e<n.length)){t.next=8;break}return r=n[e],t.next=5,this[r];case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t,this)}))),Object(M["a"])(x,"get",(function(t){return this[t]})),Object(M["a"])(x,"cmp",(function(t,e){return this.get(e)===this[t]})),Object(C["a"])(x,N),x),G=function(){function t(e,n,r){var a,i,o;Object($["a"])(this,t),Object(M["a"])(this,"code",void 0),Object(M["a"])(this,"altKey",void 0),Object(M["a"])(this,"ctrlKey",void 0),Object(M["a"])(this,"shiftKey",void 0),Object(M["a"])(this,"key",void 0),this.code=e,this.altKey=null!==(a=null===n||void 0===n?void 0:n.altKey)&&void 0!==a&&a,this.ctrlKey=null!==(i=null===n||void 0===n?void 0:n.ctrlKey)&&void 0!==i&&i,this.shiftKey=null!==(o=null===n||void 0===n?void 0:n.shiftKey)&&void 0!==o&&o,this.key=null===r||void 0===r?void 0:r.toLowerCase()}return Object(B["a"])(t,[{key:"modifier",get:function(){return{altKey:this.altKey,ctrlKey:this.ctrlKey,shiftKey:this.shiftKey}},set:function(t){var e,n,r;this.altKey=null!==(e=t.altKey)&&void 0!==e?e:this.altKey,this.ctrlKey=null!==(n=t.ctrlKey)&&void 0!==n?n:this.ctrlKey,this.shiftKey=null!==(r=t.shiftKey)&&void 0!==r?r:this.shiftKey}},{key:"toJSON",value:function(){return"".concat(this.constructor.name,'{"code": "').concat(this.code,'", "modifier": ').concat(JSON.stringify(this.modifier),"}")}},{key:"cmp",value:function(t){return this.code===t.code&&this.altKey===t.altKey&&this.ctrlKey===t.ctrlKey&&this.shiftKey===t.shiftKey}},{key:"toString",value:function(){var e,n,r=null!==(e=null!==(n=this.key)&&void 0!==n?n:t.keyCodeList[this.code])&&void 0!==e?e:this.code.replace(/^(Key|Digit)/,"").toLowerCase();return this.altKey&&(r="⎇"+r),this.ctrlKey&&(r="^"+r),this.shiftKey&&(r="⇧"+r),r}}],[{key:"reviver",value:function(t,e){if("string"===typeof e&&e.startsWith(this.name+"{")&&e.endsWith("}")){var n=JSON.parse(e.slice(this.name.length));return new this(n.code,n.modifier)}return e}}]),t}();Object(M["a"])(G,"keyCodeList",{Backquote:"`",Backslash:"\\",BracketLeft:"[",BracketRight:"]",Comma:",",Equal:"=",IntlBackslash:"\\",IntlRo:"\\",IntlYen:"¥",Minus:"-",Period:".",Quote:"'",Semicolon:";",Slash:"/"});var X=new WeakMap,Y=function(){function t(e){var n;Object($["a"])(this,t),X.set(this,{writable:!0,value:(n={remove:new G("KeyO")},Object(M["a"])(n,E.plus.toString(),new G("KeyJ")),Object(M["a"])(n,E.minus.toString(),new G("KeyK")),Object(M["a"])(n,E.times.toString(),new G("KeyL")),Object(M["a"])(n,E.div.toString(),new G("Semicolon")),Object(M["a"])(n,W.lparen.toString(),new G("KeyU")),Object(M["a"])(n,W.rparen.toString(),new G("KeyI")),n)}),Object(R["a"])(this,X,Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(P["a"])(this,X)),t.getStorage()),e))}return Object(B["a"])(t,[{key:"list",get:function(){return Object(P["a"])(this,X)}}],[{key:"getStorage",value:function(){var t=localStorage.getItem(this.storageKey),e=JSON.parse(t,G.reviver);return"object"===Object(I["a"])(e)?e:{}}}]),t}();Object(M["a"])(Y,"storageKey","keybinding");var Q=new Y;function U(t,e,n,a,i,o){var u=Object(r["q"])("base-button");return Object(r["l"])(),Object(r["d"])(u,Object(r["j"])({class:t.$style.menu_button},t.$attrs,{tabindex:"0"}),{default:Object(r["v"])((function(){return[Object(r["p"])(t.$slots,"default")]})),_:3},16,["class"])}function z(t,e,n,a,i,o){return Object(r["l"])(),Object(r["d"])("button",t.$attrs,[Object(r["p"])(t.$slots,"default")],16)}var V=Object(r["g"])({name:"BaseButton",props:{bindKey:{type:G,required:!1}},data:function(){return{keyStr:""}},computed:{button:function(){return this.$el}},watch:{bindKey:function(t){this.keyStr=t.code}},methods:{keyHandler:function(t){var e;null!==(e=this.bindKey)&&void 0!==e&&e.cmp(t)&&this.button.click()}},mounted:function(){window.addEventListener("keydown",this.keyHandler)},unmounted:function(){window.removeEventListener("keydown",this.keyHandler)}});V.render=z;var Z=V,tt=Object(r["g"])({name:"MenuButton",components:{BaseButton:Z}}),et=n("e57c");const nt=tt.__cssModules={};nt["$style"]=et["default"],tt.render=U;var rt=tt,at=Object(r["g"])({name:"Title",components:{MenuButton:rt},setup:function(){var t=Ht(),e=function(){t.commit("setScene",{scene:"Play"}),t.commit("clearFormulas",{})},n=new G("KeyP");return{play:e,playKey:n}}}),it=n("8637");const ot=at.__cssModules={};ot["$style"]=it["default"],at.render=c;var ut=at,ct=(n("a15b"),n("b85c")),st=(n("498a"),n("a9e3"),n("b368")),lt=n.n(st),ft=function(){function t(e){Object($["a"])(this,t),Object(M["a"])(this,"data",void 0),this.data=e}return Object(B["a"])(t,[{key:"toRPNString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ";switch(this.data.type){case"number":return this.data.number.toString();case"operator":return this.data.left.toRPNString(t)+t+this.data.right.toRPNString(t)+t+this.data.operator.toString()}}},{key:"toINString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._toINString(t).formula}},{key:"_toINString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(this.data.type){case"number":return{priority:1/0,formula:this.data.number.toString()};case"operator":var e=this.data.operator,n=this.data.left._toINString(t),r=n.priority<e.priority?W.lparen+n.formula+W.rparen:n.formula,a=this.data.right._toINString(t),i=a.priority<e.priority||!e.isAssociative&&a.priority===e.priority?W.lparen+a.formula+W.rparen:a.formula;return{priority:e.priority,formula:r+t+this.data.operator.toString()+t+i}}}},{key:"calculate",value:function(){switch(this.data.type){case"number":return this.data.number;case"operator":return this.data.operator.fn(this.data.left.calculate(),this.data.right.calculate())}}}],[{key:"isSurroundedByParen",value:function(t){if(W.cmp("lparen",t[0])&&W.cmp("rparen",t[t.length-1]))for(var e=0,n=0;n<t.length;n+=1){var r=t[n];if(W.cmp("lparen",r)?e+=1:W.cmp("rparen",r)&&(e-=1),0===e)return n===t.length-1}return!1}},{key:"fromIN",value:function(e){if(e=e.trim(),this.isSurroundedByParen(e))return this.fromIN(e.slice(1,-1));var n=Number(e);if(!isNaN(n))return new t({type:"number",number:n});for(var r=-1,a=1/0,i=0,o=0;o<e.length;o+=1){var u,c,s,l=e[o],f=E.get(l);if(W.cmp("lparen",l))i+=1;else if(W.cmp("rparen",l)){if(i-=1,i<0)throw new dt("Too many right parentheses")}else a>i&&f?(r=o,a=i):a===i&&(null!==(u=null===f||void 0===f?void 0:f.priority)&&void 0!==u?u:NaN)<=(null!==(c=null===(s=E.get(e[r]))||void 0===s?void 0:s.priority)&&void 0!==c?c:1/0)&&(r=o)}var d=E.get(e[r]);if(-1===r||i===1/0||!(d instanceof D))throw new dt('Invalid formula (got: "'.concat(e,'")'));return new t({type:"operator",operator:d,left:t.fromIN(e.slice(0,r)),right:t.fromIN(e.slice(r+1))})}},{key:"fromRPN",value:function(e){var n,r=[],a=Object(ct["a"])(e);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=Number(i);if(isNaN(o)){var u=E.get(i);if(!(u instanceof D))throw new dt('Invalid operator (got: "'.concat(u,'")'));var c=r.pop(),s=r.pop();if(!s||!c)throw new dt('Invalid RPN (RPN: "'.concat(e,'")'));r.push(new t({type:"operator",operator:u,left:s,right:c}))}else r.push(new t({type:"number",number:o}))}}catch(l){a.e(l)}finally{a.f()}if(1===r.length&&r[0]instanceof t)return r[0];throw new dt('Something error (RPN: "'.concat(e,'")'))}}]),t}(),dt=function(t){Object(F["a"])(n,t);var e=Object(T["a"])(n);function n(){return Object($["a"])(this,n),e.apply(this,arguments)}return n}(lt.a),bt=Object(r["e"])("Finish");function pt(t,e,n,a,i,o){var u=Object(r["q"])("menu-button");return Object(r["l"])(),Object(r["d"])("div",{class:t.$style.status_bar},[Object(r["f"])(u,{class:t.$style.exit,onClick:t.exit},{default:Object(r["v"])((function(){return[bt]})),_:1},8,["class","onClick"])],2)}var vt=Object(r["g"])({name:"StatusBar",components:{MenuButton:rt},setup:function(){var t=Ht(),e=function(){t.commit("setScene",{scene:"Result"})};return{exit:e}}}),ht=n("07a3");const mt=vt.__cssModules={};mt["$style"]=ht["default"],vt.render=pt;var yt=vt,Ot=(n("d81d"),Object(r["g"])({name:"Display",props:{formula:{type:Array,required:!0}},setup:function(t){var e=Object(r["t"])(),n=Object(r["b"])((function(){return ft.fromIN(t.formula.join("")).calculate()}));return function(){return Object(r["h"])("div",{class:e.display},[Object(r["h"])("div",{class:e.formula},t.formula.map((function(t,n){return Object(r["h"])("div",{class:n%2===0?e.num:e.op},t)}))),Object(r["h"])("div",{class:e.result},["=",Math.round(100*n.value)/100])])}}})),jt=n("9f19");const gt=Ot.__cssModules={};gt["$style"]=jt["default"];var _t=Ot;function wt(t,e,n,a,i,o){var u=Object(r["q"])("base-button");return Object(r["l"])(),Object(r["d"])(u,Object(r["j"])({class:t.$style.button},t.$attrs,{bindKey:t.bindKey}),{default:Object(r["v"])((function(){var e;return[Object(r["f"])("span",{class:t.$style.bind},Object(r["s"])(null===(e=t.bindKey)||void 0===e?void 0:e.toString()),3),Object(r["p"])(t.$slots,"default")]})),_:3},16,["class","bindKey"])}var kt=Object(r["g"])({name:"KeyButton",components:{BaseButton:Z},props:{bindKey:{type:G,required:!1}}}),St=n("4ef8");const Kt=kt.__cssModules={};Kt["$style"]=St["default"],kt.render=wt;var xt=kt,Nt=Object(r["g"])({name:"Controller",props:{addOperator:{type:Function,required:!0},removeOperator:{type:Function,required:!0},allowAddOperator:{type:Function,default:function(){return!0}}},render:function(){var t,e=this,n=Object(r["t"])(),a=[],i=Object(ct["a"])(W);try{var o=function(){var n=t.value;a.push(Object(r["h"])(xt,{onClick:function(){return e.addOperator(n.toString())},disabled:!e.allowAddOperator(n.toString()),bindKey:Q.list[n.toString()]},(function(){return n.toString()})))};for(i.s();!(t=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}a.push(Object(r["h"])(xt,{onClick:function(){return e.removeOperator()},class:n.remove_key,disabled:!this.allowAddOperator(),bindKey:Q.list.remove},(function(){return"←"})));var u,c=Object(ct["a"])(E);try{var s=function(){var t=u.value;a.push(Object(r["h"])(xt,{onClick:function(){return e.addOperator(t.toString())},disabled:!e.allowAddOperator(t.toString()),bindKey:Q.list[t.toString()]},(function(){return t.toSymbol()})))};for(c.s();!(u=c.n()).done;)s()}catch(l){c.e(l)}finally{c.f()}return Object(r["h"])("div",{class:n.controller},a)}}),It=n("db93");const Rt=Nt.__cssModules={};Rt["$style"]=It["default"];var Pt=Nt,$t=n("2909");n("cb29"),n("07ac"),n("38cf");function Bt(t,e){var n=regeneratorRuntime.mark(h),a=Object(r["m"])([]),i=Object(r["m"])([]),o=Object(r["o"])(0),u=Array(t-1).fill(0),c=Object(r["m"])(Array(t-1).fill(0)),s=function(t,e){var n=regeneratorRuntime.mark(i);if(t.length<2)throw new Error("numbers length must be grater than 2");var r=t.map((function(t){return new ft({type:"number",number:t})})),a=Object($t["a"])(E);function i(t){var e,r,o,u,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(1!==t.length){n.next=4;break}return n.next=3,t[0];case 3:return n.abrupt("return");case 4:e=Object(ct["a"])(a),n.prev=5,e.s();case 7:if((r=e.n()).done){n.next=18;break}o=r.value,u=0;case 10:if(!(u<t.length-1)){n.next=16;break}return c=t.slice(0,u).concat(new ft({type:"operator",operator:o,left:t[u],right:t[u+1]})).concat(t.slice(u+2)),n.delegateYield(i(c),"t0",13);case 13:u+=1,n.next=10;break;case 16:n.next=7;break;case 18:n.next=23;break;case 20:n.prev=20,n.t1=n["catch"](5),e.e(n.t1);case 23:return n.prev=23,e.f(),n.finish(23);case 26:case"end":return n.stop()}}),n,null,[[5,20,23,26]])}var o,u={},c=Object(ct["a"])(i(r));try{for(c.s();!(o=c.n()).done;){var s=o.value;s.calculate()===e&&(u[s.toINString()]=s)}}catch(l){c.e(l)}finally{c.f()}return Object.values(u)},l=function(){for(var n,r=function(){for(var e=0;e<t;e++)a[e]=Math.floor(10*Math.random());return a};;)if(n=s(r(),e),n.length)break;console.log(n.map((function(t){return t.toINString()}))),i.length=0,o.value=0,u.fill(0),c.fill(0)};l();var f=function(e){var n=u.reduce((function(t,e){return t+e}),0),r=c.reduce((function(t,e){return t+e}),0);if(E.get(e)){if(o.value<t-1)return!0}else if(W.cmp("lparen",e)){if(t-1>n&&t-1-o.value>u[o.value]&&!W.cmp("rparen",i[i.length-1]))return!0}else{if(!W.cmp("rparen",e))return!0;if(n>r&&u.reduce((function(t,e){return t+Number(e>=1)}),0)>c[o.value]&&o.value<t-1&&!W.cmp("lparen",i[i.length-1]))return!0}return!1},d=function(t,e){E.get(t)?o.value+=e:W.cmp("lparen",t)?u[o.value]+=e:W.cmp("rparen",t)&&(c[o.value]+=e)},b=function(t){f(t)&&(d(t,1),i[i.length]=t)},p=function(){d(i[i.length-1],-1),i.length>0&&(i.length-=1)},v=Object(r["b"])((function(){return o.value===t-1}));function h(){var e,r,o,u,c,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=0,r=0,o=0;case 3:if(!(e<t-1)){n.next=16;break}for(s=a[e].toString();W.cmp("lparen",i[r]);r+=1)s=W.lparen+s,o+=1;for(;W.cmp("rparen",i[r]);r+=1)s+=W.rparen,o-=1;return n.next=9,s;case 9:if(!(e<t-1)){n.next=12;break}return n.next=12,null!==(u=null===(c=E.get(i[r]))||void 0===c?void 0:c.toSymbol())&&void 0!==u?u:E.none.toSymbol();case 12:e+=1,r+=1,n.next=3;break;case 16:return n.next=18,a[e].toString()+W.rparen.toString().repeat(o);case 18:case"end":return n.stop()}}),n)}var m=Object(r["b"])((function(){return Object($t["a"])(h())}));return{numbers:Object(r["n"])(a),operators:Object(r["n"])(i),formula:m,refresh:l,addOperator:b,removeOperator:p,allowAddOperator:f,isInputFinish:v}}var Mt=n("17a4"),Ct=n.n(Mt),At=Object(r["g"])({name:"Play",setup:function(){var t=Ht(),e=Bt(4,10),n=e.formula,a=e.refresh,i=e.addOperator,o=e.removeOperator,u=e.allowAddOperator,c=e.isInputFinish,s=Object(r["b"])((function(){return ft.fromIN(n.value.join(""))}));t.commit("pushFormula",{formula:s.value});var l=Object(r["b"])((function(){return s.value.calculate()})),f=Object(r["b"])((function(){return c.value&&10===l.value})),d=function(t){return u(t)&&!f.value},b=null,p=Object(r["u"])(f,(function(e){e&&null===b&&(b=setTimeout((function(){t.commit("popFormula"),t.commit("pushFormula",{formula:s.value}),a(),t.commit("pushFormula",{formula:s.value}),b=null}),1e3))}));return Object(r["k"])((function(){p()})),function(){return Object(r["h"])("div",{class:Ct.a.play},[Object(r["h"])(yt),Object(r["h"])(_t,{formula:n.value}),Object(r["h"])(Pt,{addOperator:i,removeOperator:o,allowAddOperator:d})])}}}),Ft=n("8d2c"),Tt=n.n(Ft),qt=Object(r["g"])({name:"Result",render:function(){var t=Ht(),e=t.getters.formulas.map((function(t){return Object(r["h"])("span",{class:Tt.a.formula},t.toINString())}));return Object(r["h"])("div",{class:Tt.a.result},[Object(r["h"])("div",{class:Tt.a.title},"Result"),Object(r["h"])("div",{class:Tt.a.formulas},[Object(r["h"])("span",{class:Tt.a.title},"Got Formulas")].concat(Object($t["a"])(e))),Object(r["h"])("div",{class:Tt.a.menu},[Object(r["h"])(rt,{class:Tt.a.button,onClick:function(){return t.commit("setScene",{scene:"Title"})}},(function(){return"Exit"}))])])}}),Dt={Title:ut,Play:At,Result:qt},Jt="Title",Et=Symbol(),Lt=Object(o["a"])({state:{scene:Jt,formulas:[]},getters:{scene:function(t){return t.scene},formulas:function(t){return t.formulas}},mutations:{setScene:function(t,e){t.scene=e.scene},pushFormula:function(t,e){t.formulas.push(e.formula)},popFormula:function(t){t.formulas.pop()},clearFormulas:function(t){t.formulas.length=0}},actions:{},modules:{}});function Ht(){return Object(o["b"])(Et)}var Wt=Object(r["g"])({render:function(){var t=Ht();return Object(r["h"])("div",Object.keys(Dt).reduce((function(e,n){return e.concat(Object(r["h"])(Z,{onClick:function(){return t.commit("setScene",{scene:n})},bindKey:new G("Key"+n[0],{shiftKey:!0})},(function(){return n})))}),[]))}}),Gt=Wt,Xt=Object(r["g"])({name:"DebugTools",render:function(){var t=!0;return t?[]:Object(r["h"])(Gt)}}),Yt=Object(r["g"])({name:"App",components:Object(i["a"])({DebugTools:Xt},Dt),setup:function(){var t=Ht(),e=Object(r["b"])((function(){return t.getters.scene}));return{scene:e}}}),Qt=(n("0924"),n("e931"));const Ut=Yt.__cssModules={};Ut["$style"]=Qt["default"],Yt.render=a;var zt=Yt;Object(r["c"])(zt).use(Lt,Et).mount("#app")},db93:function(t,e,n){"use strict";var r=n("8678"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},e4c3:function(t,e,n){t.exports={status_bar:"StatusBar_status_bar_2XxfO",exit:"StatusBar_exit_3WgvT"}},e57c:function(t,e,n){"use strict";var r=n("42cf"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},e931:function(t,e,n){"use strict";var r=n("99c5"),a=n.n(r);n.d(e,"default",(function(){return a.a}))},ebaf:function(t,e,n){t.exports={button:"Key_button_1aHaN",bind:"Key_bind_2ldd1"}}});
//# sourceMappingURL=app.c06f4fd8.js.map